# Design Document - Akyobox Portal

## Overview

"Akyobox" is a centralized web portal built with Next.js 16 (App Router) to host and showcase "Akyo" themed Unity WebGL games. The first featured game is "Whack-a-Akyo" (whack-a-devilyagiakyo). The portal provides a seamless user experience, handling game embedding, asset delivery optimization (Brotli), and future scalability for more games.

## Architecture

### System Architecture
- **Frontend Framework**: Next.js 16 (App Router)
- **Hosting**: Vercel (Edge Network)
- **Game Engine**: Unity 6 (WebGL Export)

### Component Structure

```text
app/
├── layout.tsx          # Root Layout (Metadata, Global Styles)
├── page.tsx            # Main Portal Page (Game Container)
│   └── iframe          # Embeds Unity WebGL build
└── icon.png            # Application Icon
public/
└── games/
    └── whack-a-devilyagiakyo/  # Unity WebGL Build Artifacts
        ├── index.html
        ├── Build/      # .br compressed assets
        └── TemplateData/
```

## Integration Strategy

### Unity WebGL Embedding
The Unity game is embedded via an `iframe` in `app/page.tsx`. This provides:
- **Isolation**: CSS/JS of the game doesn't conflict with the portal.
- **Simplicity**: Uses the HTML template generated by Unity directly.

### Asset Delivery (Brotli Support)
Unity WebGL builds often use Brotli (`.br`) compression. Browsers need correct `Content-Encoding: br` headers to decompress them.
- **Local Development**: A custom `server.js` intercepts requests to `.br` files and adds headers.
- **Production (Vercel)**: `vercel.json` configures headers for specific paths.

## Future Expansion
- **Multiple Games**: Add dynamic routes (e.g., `app/games/[slug]/page.tsx`) to host multiple Unity titles.
- **UI/UX**: Add a unified navigation bar, footer, and game selection menu.